"use strict";(self.webpackChunklaniewski_me=self.webpackChunklaniewski_me||[]).push([[621],{4206:function(n,s,a){a.r(s),a.d(s,{Head:function(){return f},default:function(){return m}});var t=a(7294),e=a(5893),o=a(1151);function c(n){const s=Object.assign({p:"p",a:"a",code:"code",blockquote:"blockquote",strong:"strong",h2:"h2",ul:"ul",li:"li",h3:"h3",span:"span",h4:"h4",ol:"ol"},(0,o.ah)(),n.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(s.p,{children:["Lazy loading is a well-known technique for improving performance and reducing the associated resources costs. It's so effective that it's even ",(0,e.jsx)(s.a,{href:"https://github.com/whatwg/html/pull/3752",children:"being added to the web standard"})," via the ",(0,e.jsx)(s.code,{children:'loading="lazy"'})," attribute. In this article we will learn how to perform lazy ressources loading and code splitting in React."]}),"\n",(0,e.jsxs)(s.blockquote,{children:["\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"Note:"})," at the time of writing this article, a lot of APIs are still in development and are not ready to be used in production."]}),"\n"]}),"\n",(0,e.jsx)(s.h2,{id:"glossary",children:"Glossary"}),"\n",(0,e.jsxs)(s.blockquote,{children:["\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"Code splitting"})," […] allows you to split your code into various bundles which can then be loaded on demand or in parallel. It can be used to achieve smaller bundles and control resource load prioritization which, if used correctly, can have a major impact on load time. ~ ",(0,e.jsx)(s.a,{href:"https://webpack.js.org/guides/code-splitting/",children:"Webpack"})]}),"\n"]}),"\n",(0,e.jsxs)(s.blockquote,{children:["\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.strong,{children:"Lazy loading"})," is a design pattern […] used to defer initialization of an object until the point at which it is needed. It can contribute to efficiency in the program's operation if properly and appropriately used. […] The performance gains are especially significant if the initialization of the object is costly, such as in case of accessing network services. ~ ",(0,e.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Lazy_loading",children:"Wikipedia"})]}),"\n"]}),"\n",(0,e.jsx)(s.h2,{id:"problem",children:"Problem"}),"\n",(0,e.jsxs)(s.p,{children:["A lot of SPAs nowadays are \"monolithic\" – there's a giant JavaScript bundle which contains all of the application's files. This bundle is required via a ",(0,e.jsx)(s.code,{children:"<script>"})," tag, gets downloaded on the initial visit and hopefully cached. This results in:"]}),"\n",(0,e.jsxs)(s.ul,{children:["\n",(0,e.jsxs)(s.li,{children:["a ",(0,e.jsx)(s.strong,{children:"longer initial load"}),": we download all of the app's code, even if it's not needed to perform the initial render or not used at all;"]}),"\n",(0,e.jsxs)(s.li,{children:[(0,e.jsx)(s.strong,{children:"faster application rendering and in-app navigation"}),": all of the components are already downloaded and don't need to be lazy fetched."]}),"\n"]}),"\n",(0,e.jsx)(s.p,{children:"This is the typical drowback of code-splitting: the initial page load is faster but each dynamic import degrades the visible in-app performance."}),"\n",(0,e.jsx)(s.p,{children:"Developers tend to provide a visual feedback for each asynchronous action. It often results in an immense amount of loaders and it's still badly perceived by users. Once the lazy components render, they can perform other asynchronous actions (like network requests) which adds another layer of loaders."}),"\n",(0,e.jsx)(s.p,{children:"As a developer, you need to find the perfect balance between initial and dynamic loading and focus on creating great fallback experiences."}),"\n",(0,e.jsx)(s.h2,{id:"solutions",children:"Solutions"}),"\n",(0,e.jsx)(s.p,{children:"Concurrent React can partially render a tree without committing the result."}),"\n",(0,e.jsx)(s.h3,{id:"code-splitting",children:"Code splitting"}),"\n",(0,e.jsxs)(s.p,{children:["React 16.6 introduced ",(0,e.jsx)(s.a,{href:"https://reactjs.org/docs/code-splitting.html#reactlazy",children:(0,e.jsx)(s.code,{children:"React.lazy"})})," which allows us to perform code splitting and a ",(0,e.jsx)(s.a,{href:"https://reactjs.org/docs/code-splitting.html#suspense",children:(0,e.jsx)(s.code,{children:"Suspense"})})," component which renders placeholders for lazy-loaded resources."]}),"\n",(0,e.jsx)(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Suspense<span class="token punctuation">,</span> lazy <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> Foo <span class="token operator">=</span> <span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"./Foo"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> Bar <span class="token operator">=</span> <span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"./Bar"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">LazyFooBar</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ErrorBoundary</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Suspense</span></span> <span class="token attr-name">maxDuration</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">1500</span><span class="token punctuation">}</span></span> <span class="token attr-name">fallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">"Loading…"</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Foo</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Suspense</span></span> <span class="token attr-name">maxDuration</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">1000</span><span class="token punctuation">}</span></span> <span class="token attr-name">fallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">"Loading…"</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Bar</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Suspense</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Suspense</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ErrorBoundary</span></span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",(0,e.jsxs)(s.p,{children:["The dynamic ",(0,e.jsx)(s.code,{children:"import()"})," tells the bundler to exclude requestes filed from the main bundle. ",(0,e.jsx)(s.code,{children:"React.lazy"})," returns a special component type that will suspend the render until it resolves or rejectes The exact behaviour is described in the following ",(0,e.jsx)(s.a,{href:"https://github.com/reactjs/rfcs/blob/master/text/0064-lazy.md",children:"RFC"}),":"]}),"\n",(0,e.jsxs)(s.blockquote,{children:["\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.code,{children:"React.lazy"})," accepts a Promise factory, and returns a new component type. When React renders that type for the first time, it triggers the Promise factory […]. If the Promise is fulfilled, React reads the ",(0,e.jsx)(s.code,{children:".default"})," value from it […], and uses it as a component type for rendering. If the Promise is rejected, the rejection is handled in the same way as React normally handles errors (by letting the nearest error boundary handle it). After the code has loaded, React caches the Promise result. Next renders of the components with this type become synchronous and have no extra cost."]}),"\n"]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.code,{children:"Suspense"})," allows you to define a fallback placeholder which is displayed when the render is in the suspended state. It also allows you to configure the delay after which the fallback should be shown (via the ",(0,e.jsx)(s.code,{children:"maxDuration"})," property). It will prevent the fallback component from showing up on fast networks."]}),"\n",(0,e.jsxs)(s.p,{children:[(0,e.jsx)(s.code,{children:"Suspense"})," is quite similar to ",(0,e.jsx)(s.code,{children:"ErrorBoundary"}),". In fact, you can think of ",(0,e.jsx)(s.code,{children:"Suspense"})," as being the ",(0,e.jsx)(s.code,{children:"try { … }"})," block whereas ",(0,e.jsx)(s.code,{children:"ErrorBoundary"})," is the ",(0,e.jsx)(s.code,{children:"catch (error) { … }"})," block."]}),"\n",(0,e.jsx)(s.h3,{id:"lazy-loading-and-preloading",children:"Lazy loading and preloading"}),"\n",(0,e.jsxs)(s.p,{children:["React team is working on an experimental library named ",(0,e.jsx)(s.a,{href:"https://github.com/facebook/react/tree/master/packages/react-cache",children:(0,e.jsx)(s.code,{children:"react-cache"})}),". It provides APIs for implementing various caches for React applications. As it is dependant on some not-yet-released React APIs, this library should not be used in production."]}),"\n",(0,e.jsx)(s.h4,{id:"api-calls",children:"API calls"}),"\n",(0,e.jsxs)(s.p,{children:["One of ",(0,e.jsx)(s.code,{children:"react-cache"})," use-cases is to suspense rendering on pending requests."]}),"\n",(0,e.jsx)(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> FooListResource <span class="token operator">=</span> <span class="token function">unstable_createResource</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">query</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">fetchFooList</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",(0,e.jsxs)(s.p,{children:["In our render, we just read the data using the ",(0,e.jsx)(s.code,{children:"FooListResource.read"}),". This method returns the response from ",(0,e.jsx)(s.code,{children:"unstable_createResource"})," Promise factory and tells the nearest parent ",(0,e.jsx)(s.code,{children:"React.Suspense"})," to stop the rendering and display the fallback till the resource isn't ready. The implementation is simple:"]}),"\n",(0,e.jsx)(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">FooList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> response <span class="token operator">=</span> FooListResource<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token literal-property property">search</span><span class="token operator">:</span> <span class="token string">"Lorem ipsum dolor."</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token plain-text">\n      </span><span class="token punctuation">{</span>response<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>\n      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",(0,e.jsx)(s.h4,{id:"embedded-documents",children:"Embedded documents"}),"\n",(0,e.jsxs)(s.p,{children:["You can use ",(0,e.jsx)(s.code,{children:"react-cache"})," to lezy load embedded documents, such as images, videos, scripts, stylesheets and more. The implementation is quite similar to caching API calls. We start with creating a Image resource:"]}),"\n",(0,e.jsx)(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> ImageResource <span class="token operator">=</span> <span class="token function">unstable_createResource</span><span class="token punctuation">(</span>\n  <span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token operator">=></span>\n    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      img<span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span>\n      img<span class="token punctuation">.</span>onload <span class="token operator">=</span> resolve<span class="token punctuation">;</span>\n      <span class="token comment">// img.onerror = reject;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",(0,e.jsxs)(s.p,{children:["Now, we need to create an alternative ",(0,e.jsx)(s.code,{children:"img"})," component which will make use of the ",(0,e.jsx)(s.code,{children:"ImageResource"}),". For this, we simply need to call ",(0,e.jsx)(s.code,{children:"ImageResource.read(src)"})," – it will tell the nearest parent ",(0,e.jsx)(s.code,{children:"React.Suspense"})," to stop the rendering and display the fallback till the image isn't fully loaded. The implementation is straightforward:"]}),"\n",(0,e.jsx)(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">Img</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> src<span class="token punctuation">,</span> <span class="token operator">...</span>props <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  ImageResource<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>src<span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",(0,e.jsxs)(s.p,{children:["Now, we can create a wrapper which will take care of providing the low-resolution fallback image for us – we just need to wrap the newely created ",(0,e.jsx)(s.code,{children:"Img"})," component with a ",(0,e.jsx)(s.code,{children:"React.Suspense"})," and provide a fallback image, as follows:"]}),"\n",(0,e.jsx)(s.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function-variable function">LazyImg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> lowResSrc<span class="token punctuation">,</span> highResSrc<span class="token punctuation">,</span> <span class="token operator">...</span>props <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">React.Suspense</span></span> <span class="token attr-name">fallback</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>lowResSrc<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Img</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>highResSrc<span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">\n  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">React.Suspense</span></span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span></code></pre></div>'}}),"\n",(0,e.jsxs)(s.p,{children:["There's a GitHub project named ",(0,e.jsx)(s.code,{children:"the-platform"})," which turns Web API's into React Hooks and Suspense-friendly React components. It provides a sets of lazy components out-of-the-box, such as:"]}),"\n",(0,e.jsxs)(s.ul,{children:["\n",(0,e.jsx)(s.li,{children:(0,e.jsx)(s.a,{href:"https://github.com/palmerhq/the-platform#img",children:(0,e.jsx)(s.code,{children:"<Img>"})})}),"\n",(0,e.jsx)(s.li,{children:(0,e.jsx)(s.a,{href:"https://github.com/palmerhq/the-platform#script",children:(0,e.jsx)(s.code,{children:"<Script>"})})}),"\n",(0,e.jsx)(s.li,{children:(0,e.jsx)(s.a,{href:"https://github.com/palmerhq/the-platform#video",children:(0,e.jsx)(s.code,{children:"<Video>"})})}),"\n",(0,e.jsx)(s.li,{children:(0,e.jsx)(s.a,{href:"https://github.com/palmerhq/the-platform#audio",children:(0,e.jsx)(s.code,{children:"<Audio>"})})}),"\n",(0,e.jsx)(s.li,{children:(0,e.jsx)(s.a,{href:"https://github.com/palmerhq/the-platform#preload",children:(0,e.jsx)(s.code,{children:"<Preload>"})})}),"\n",(0,e.jsx)(s.li,{children:(0,e.jsx)(s.a,{href:"https://github.com/palmerhq/the-platform#stylesheet",children:(0,e.jsx)(s.code,{children:"<Stylesheet>"})})}),"\n"]}),"\n",(0,e.jsx)(s.h2,{id:"resources",children:"Resources"}),"\n",(0,e.jsxs)(s.ol,{children:["\n",(0,e.jsx)(s.li,{children:"https://reactjs.org/docs/code-splitting.html"}),"\n",(0,e.jsx)(s.li,{children:"https://medium.com/@rossbulat/react-lazy-suspense-and-concorrent-react-breakdown-with-examples-2758de98cb1c"}),"\n",(0,e.jsx)(s.li,{children:"https://github.com/palmerhq/the-platform"}),"\n",(0,e.jsx)(s.li,{children:"https://youtube.com/watch?v=SCQgE4mTnjU"}),"\n",(0,e.jsx)(s.li,{children:"https://www.youtube.com/watch?v=ByBPyMBTzM0"}),"\n"]}),"\n"]})}var p=function(n){void 0===n&&(n={});const{wrapper:s}=Object.assign({},(0,o.ah)(),n.components);return s?(0,e.jsx)(s,Object.assign({},n,{children:(0,e.jsx)(c,n)})):c(n)},l=a(8029),i=a(8875),r=a(180),u=a(317),d=a(5551),h=a(2349),k=a(7123);function g(n){let{pageContext:s,children:a}=n;const t=s.data,{frontmatter:c,tableOfContents:p}=t,{title:h,datePublished:g,language:m,authors:f}=c;return(0,e.jsx)(d.A,{children:(0,e.jsx)(i.V,{children:(0,e.jsxs)("article",{className:"post",itemScope:!0,itemType:"http://schema.org/Article",lang:m,children:[(0,e.jsxs)("header",{className:"post__header",children:[(0,e.jsx)("h1",{itemProp:"headline",children:h}),(0,e.jsx)("time",{dateTime:g,itemProp:"datePublished",children:g}),null!=f&&f.length?(0,e.jsx)("ul",{className:"visually-hidden",children:f.map((n=>(0,e.jsx)("li",{children:(0,e.jsx)("p",{itemProp:"author",children:n})},n)))}):null]}),(0,e.jsxs)("div",{className:"post__wrapper",children:[(0,e.jsx)("div",{className:"post__toc",children:(0,e.jsx)(k.o,{data:p})}),(0,e.jsxs)("div",{className:"post__content",children:[(0,e.jsx)("div",{itemProp:"articleBody",children:(0,e.jsx)(o.Zo,{components:{Alert:l.b,Formula:u.S},children:a})}),(0,e.jsx)(r.$,{lang:m})]})]})]})})})}function m(n){return t.createElement(g,n,t.createElement(p,n))}function f(n){let{pageContext:s}=n;const a=s.data,{excerpt:t}=a,{title:o,description:c}=a.frontmatter;return(0,e.jsx)(h.H,{title:o,description:c||t})}},8029:function(n,s,a){a.d(s,{b:function(){return u}});var t={};a.r(t),a.d(t,{alert:function(){return e},alert__failure:function(){return o},alert__info:function(){return c},alert__success:function(){return p},alert__warning:function(){return l}});var e="index-module--alert--af406",o="index-module--alert__failure--c7bcc",c="index-module--alert__info--cfa0f",p="index-module--alert__success--14443",l="index-module--alert__warning--5ba8e",i=a(7294),r=a(5893);function u(n){let{children:s,as:a="aside",type:o="info",...c}=n;const p=n=>i.createElement(a,n);return(0,r.jsx)(p,{...c,className:`${e} ${t[`alert__${o}`]}`,children:s})}},180:function(n,s,a){a.d(s,{$:function(){return c}});var t=a(7294),e=a(1711),o=a(5893);function c(n){let{lang:s="en"}=n;const a=t.useRef(),[c]=(0,e.F)(),p=null!==c;return t.useLayoutEffect((()=>{const n=a.current;if(!n||!p)return;const t=function(n){let{theme:s,lang:a}=n;const t="undefined"!=typeof window?window.location.origin:"";return`\n    <script src="https://giscus.app/client.js"\n      data-repo="Bartozzz/bartozzz.github.io"\n      data-repo-id="MDEwOlJlcG9zaXRvcnkyNDk1MjY5MQ=="\n      data-category="Discussion"\n      data-category-id="DIC_kwDOAXy_c84CAHzq"\n      data-mapping="pathname"\n      data-reactions-enabled="1"\n      data-emit-metadata="0"\n      data-theme="${"dark"===s?`${t}/discussion-dark.css`:`${t}/discussion-light.css`}"\n      data-lang="${a}"\n      crossorigin="anonymous"\n      async>\n    <\/script>\n  `}({theme:c,lang:s}),e=document.createRange().createContextualFragment(t);return null==n||n.appendChild(e),()=>{n.innerHTML=""}}),[p]),t.useEffect((()=>{const n="undefined"!=typeof window?window.location.origin:"";!function(n){const s=document.querySelector("iframe.giscus-frame");s&&s.contentWindow.postMessage({giscus:n},"https://giscus.app")}({setConfig:{theme:"dark"===c?`${n}/discussion-dark.css`:`${n}/discussion-light.css`,lang:s}})}),[c,s]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:`comments--${c}`,ref:a})})}},317:function(n,s,a){a.d(s,{S:function(){return c}});var t=a(7294),e=a(1008);function o(){return(o=Object.assign||function(n){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(n[t]=a[t])}return n}).apply(this,arguments)}const c=(0,t.memo)((function(n){var s=n.children,a=n.math,c=n.block,p=n.errorColor,l=n.renderError,i=n.settings,r=n.as,u=function(n,s){if(null==n)return{};var a,t,e={},o=Object.keys(n);for(t=0;t<o.length;t++)s.indexOf(a=o[t])>=0||(e[a]=n[a]);return e}(n,["children","math","block","errorColor","renderError","settings","as"]),d=r||(c?"div":"span"),h=null!=s?s:a,k=(0,t.useState)({innerHtml:""}),g=k[0],m=k[1];return(0,t.useEffect)((function(){try{var n=e.Z.renderToString(h,o({displayMode:!!c,errorColor:p,throwOnError:!!l},i));m({innerHtml:n})}catch(n){if(!(n instanceof e.Z.ParseError||n instanceof TypeError))throw n;m(l?{errorElement:l(n)}:{innerHtml:n.message})}}),[c,h,p,l,i]),"errorElement"in g?g.errorElement:t.createElement(d,Object.assign({},u,{dangerouslySetInnerHTML:{__html:g.innerHtml}}))}))},7123:function(n,s,a){a.d(s,{o:function(){return k}});var t=a(5785),e="index-module--toc--16eb9",o="index-module--toc__ellipsis--2a1a1",c="index-module--toc__link--1571c",p="index-module--toc__link--active--2b793",l="index-module--toc__list--19652",i="index-module--toc__title--91e5c",r=a(7294),u=a(1883),d=a(5893);function h(n){return n.flatMap((n=>{let{url:s,title:a,items:e}=n;return[{url:s,title:a}].concat((0,t.Z)(e?h(e):[]))}))}function k(n){let{data:s}=n;const[a,t]=r.useState(),o=h(s.items);return console.log({data:s,activeHeadingId:a}),r.useEffect((()=>{const n=new IntersectionObserver((n=>{n.forEach((n=>{n.isIntersecting&&t(`#${n.target.id}`)}))}),{rootMargin:"0% 0% -80% 0%"});return o.forEach((s=>{const a=document.querySelector(s.url);a&&n.observe(a)})),()=>{o.forEach((s=>{const a=document.querySelector(s.url);a&&n.unobserve(a)}))}}),[o]),(0,d.jsxs)("nav",{"aria-label":"On this page",className:e,children:[(0,d.jsx)("p",{className:i,children:"Contents"}),(0,d.jsx)(g,{tree:s,activeSlug:a})]})}function g(n){let{tree:s,activeSlug:a}=n;return(0,d.jsx)("ol",{className:l,children:s.items.map((n=>{var s;return(0,d.jsxs)("li",{children:[(0,d.jsx)(u.Link,{to:n.url,title:n.title,className:`${c} ${a===n.url?p:""}`,children:(0,d.jsx)("span",{className:o,children:n.title})}),(null===(s=n.items)||void 0===s?void 0:s.length)>0&&(0,d.jsx)(g,{tree:n,activeSlug:a})]},n.url)}))})}},1151:function(n,s,a){a.d(s,{Zo:function(){return p},ah:function(){return o}});var t=a(7294);const e=t.createContext({});function o(n){const s=t.useContext(e);return t.useMemo((()=>"function"==typeof n?n(s):{...s,...n}),[s,n])}const c={};function p({components:n,children:s,disableParentContext:a}){let p;return p=a?"function"==typeof n?n({}):n||c:o(n),t.createElement(e.Provider,{value:p},s)}}}]);
//# sourceMappingURL=component---src-templates-blog-post-tsx-content-file-path-content-blog-2019-04-19-lazy-loading-and-code-splitting-in-react-apps-index-md-0efacb6b0af5023fb61d.js.map